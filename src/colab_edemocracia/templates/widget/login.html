{% load static compress i18n %}

<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Wikilegis Widget</title>
      <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
      <link href='https://fonts.googleapis.com/icon?family=Material+Icons' rel='stylesheet'>
      {% compress css %}
          <link type="text/x-scss" rel="stylesheet" href="{% static "scss/wikilegis/widget-2.0.scss" %}" media="screen,projection"/>
      {% endcompress %}
  </head>
  <body>

    <div class="wikilegis-widget">
      <div class="wikilegis-widget__access-wrapper">
        <div class="wikilegis-widget__access">
          <img class="wikilegis-widget__image wikilegis-widget__image--top-logo" src="{% static 'img/logo-wikilegis.png' %}" alt="Logo Wikilegis">
          {% for message in messages %}
            {{ message }}
          {% endfor %}
          {% if form.non_field_errors %}
              <div>
                  {{ form.non_field_errors }}
              </div>
          {% endif %}
          <div class="wikilegis-widget__access-box-wrapper">
            <div class="wikilegis-widget__access-box wikilegis-widget__access-box--login {% if 'signup' in request.path %}translatex--left{% endif %}">
              <form class="wikilegis-widget__access-form" name="login" action="{% url 'colab_edemocracia:widget_login' %}?next={{ request.GET.next }}" method="POST">
                {% csrf_token %}
                {% if form.username.errors %}
                  <label class="wikilegis-widget__input-error" for="username">• {% trans "Username is a necessary field" %}</label>
                {% endif %}
                <input class="wikilegis-widget__input wikilegis-widget__input--access" type="username" name="username" placeholder="{% trans 'Username' %}">
                {% if form.password.errors %}
                  <label class="wikilegis-widget__input-error" for="password">• {% trans "Password is a necessary field" %}</label>
                {% endif %}
                <input class="wikilegis-widget__input wikilegis-widget__input--access" type="password" name="password" placeholder="{% trans 'Password' %}">
                <input type="hidden" name="next" value="{{ request.GET.next }}" />
                <input class="wikilegis-widget__button wikilegis-widget__button--access" type="submit" name="login" value="{% trans 'Log in' %}">
              </form>

              <div class="wikilegis-widget__separator"></div>

              <a class="wikilegis-widget__button wikilegis-widget__button--social wikilegis-widget__button--facebook" href="{% url "social:begin" backend='facebook' %}" role="button">
                <img class="wikilegis-widget__icon wikilegis-widget__icon--access" src="{% static 'img/logo-fb.svg' %}" alt="Facebook Logo">
                {% trans "Log in with Facebook" %}
              </a>
              <a class="wikilegis-widget__button wikilegis-widget__button--social wikilegis-widget__button--google" href="{% url "social:begin" backend='google-oauth2' %}" role="button">
                <img class="wikilegis-widget__icon wikilegis-widget__icon--access" src="{% static 'img/logo-google.svg' %}" alt="Google Logo">
                {% trans "Log in with Google" %}
              </a>

              <div class="wikilegis-widget__access-footer">
                <span>{% trans "or" %} </span><a class="wikilegis-widget__link wikilegis-widget__link--access-toggle" href="#">{% trans "Sign Up" %}</a>
              </div>
            </div>
            <div class="wikilegis-widget__access-box wikilegis-widget__access-box--signup {% if 'signup' in request.path %}translatex--left{% endif %}">
              <form class="wikilegis-widget__access-form" name="signup" action="{% url 'colab_edemocracia:widget_signup' %}?next={{ request.GET.next }}" method="POST">
                {% csrf_token %}
                {% if form.email.errors %}
                  <label class="wikilegis-widget__input-error" for="email">• {% trans "Email is a necessary field" %}</label>
                {% endif %}
                <input class="wikilegis-widget__input wikilegis-widget__input--access" type="email" name="email" placeholder="{% trans 'Email' %}">
                <input class="wikilegis-widget__input wikilegis-widget__input--access" type="username" name="username" placeholder="{% trans 'Username' %}">
                {% if form.password.errors %}
                  <label class="wikilegis-widget__input-error" for="password">• {% trans "Password is a necessary field" %}</label>
                {% endif %}
                <input class="wikilegis-widget__input wikilegis-widget__input--access" type="password" name="password" placeholder="{% trans 'Password' %}">
                <input class="wikilegis-widget__button wikilegis-widget__button--access" type="submit" name="signup" value="{% trans 'Sign Up' %}">
              </form>

              <div class="wikilegis-widget__access-footer">
                <span>{% trans "or" %} </span><a class="wikilegis-widget__link wikilegis-widget__link--access-toggle" href="#">{% trans "Log in" %}</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    {% compress js %}
        <script type="text/javascript" src="{% static "bower_components/jquery/dist/jquery.js" %}"></script>
        <script type="text/javascript" src="{% static "js/widget-2.0.js" %}"></script>
        <script type="text/javascript" src="{% static "js/widget-scripts.js" %}"></script>
    {% endcompress %}

    {% block extra_js %}
    {% endblock extra_js %}
  </body>
</html>